## ğŸ“Œ ë¬¸ì œ ì •ë³´

* ğŸ”¹ ë¬¸ì œëª…: ì†Œìˆ˜ ì°¾ê¸°
* ğŸ”¹ ì‚¬ì´íŠ¸: í”„ë¡œê·¸ë˜ë¨¸ìŠ¤
* ğŸ”¹ ë¬¸ì œ ë§í¬: [https://school.programmers.co.kr/learn/courses/30/lessons/42839](https://school.programmers.co.kr/learn/courses/30/lessons/42839)

---

## ğŸ” ë¬¸ì œ ìš”ì•½

* ğŸ“¥ **ì…ë ¥**:

    * `numbers` (ê¸¸ì´ 1\~7, ìˆ«ì ë¬¸ìë¡œ ì´ë£¨ì–´ì§„ ë¬¸ìì—´)
* ğŸ“¤ **ì¶œë ¥**:

    * `numbers` ì•ˆì˜ ë¬¸ìë¥¼ ì‚¬ìš©í•´ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª¨ë“  ìˆœì—´(1ìë¦¬ë¶€í„° ìµœëŒ€ìë¦¬ê¹Œì§€)ì˜ ì •ìˆ˜ ì¤‘ **ì†Œìˆ˜**ì¸ ìˆ˜ì˜ ê°œìˆ˜
* ğŸ“Œ **ì¡°ê±´ ìš”ì•½**:

    * ìˆœì—´ë¡œ ë§Œë“  ìˆ«ìëŠ” ì¤‘ë³µ ì—†ì´ ì„¸ê¸° (`set` ì‚¬ìš©)
    * ìµœëŒ€ê°’ì€ 10â· ì´í•˜ â†’ ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ë¡œ ì „ì²˜ë¦¬ ê°€ëŠ¥

---

## ğŸ§  ì•„ì´ë””ì–´ ë„ì¶œ

1. **ëª¨ë“  ìˆœì—´ ìƒì„± & ì¤‘ë³µ ì œê±°**

    * ê¸¸ì´ 1ë¶€í„° `len(numbers)`ê¹Œì§€ `itertools.permutations`
    * `int("".join(...))` ìœ¼ë¡œ ë³€í™˜í•´ `set`ì— ì €ì¥

2. **ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´**

    * `max_n = max(perms)`
    * í¬ê¸° `max_n + 1`ì§œë¦¬ ë¶ˆë¦¬ì–¸ ë°°ì—´ `sieve` ìƒì„±
    * ì¸ë±ìŠ¤ iê°€ ì†Œìˆ˜ë©´ `sieve[i] = True`, ì•„ë‹ˆë©´ `False`
    * 0,1 ì€ `False` ì²˜ë¦¬
    * 2ë¶€í„° âˆšmax\_nê¹Œì§€ iê°€ ì†Œìˆ˜ì¼ ë•Œ iì˜ ë°°ìˆ˜ë“¤ì„ `False`ë¡œ ë§ˆí‚¹

3. **ì†Œìˆ˜ ê°œìˆ˜ ì„¸ê¸°**

    * `perms`ë¥¼ ìˆœíšŒí•˜ë©° `sieve[num]`ì´ `True`ì¸ ê²½ìš°ë§Œ ì¹´ìš´íŠ¸

---

## ğŸ§± êµ¬í˜„ ê³„íš

1. **ìˆœì—´ ìƒì„±**

   ```python
   from itertools import permutations

   perms = set()
   for k in range(1, len(numbers)+1):
       for p in permutations(numbers, k):
           perms.add(int(''.join(p)))
   ```
2. **ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ ì „ì²˜ë¦¬**

   ```python
   max_n = max(perms)
   sieve = [True] * (max_n + 1)
   sieve[0:2] = [False, False]
   m = int(max_n**0.5)
   for i in range(2, m+1):
       if sieve[i]:
           sieve[i*i : max_n+1 : i] = [False] * (((max_n - i*i)//i) + 1)
   ```
3. **ê²°ê³¼ ë°˜í™˜**

   ```python
   return sum(1 for num in perms if sieve[num])
   ```

---

## âœ… ì½”ë“œ ì˜ˆì‹œ

```python
from itertools import permutations

def solution(numbers: str) -> int:
    # 1) ìˆœì—´ ìƒì„± & ì¤‘ë³µ ì œê±°
    perms = set()
    for k in range(1, len(numbers) + 1):
        for p in permutations(numbers, k):
            perms.add(int(''.join(p)))
    if not perms:
        return 0

    # 2) ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´
    max_n = max(perms)
    sieve = [True] * (max_n + 1)
    sieve[0:2] = [False, False]
    m = int(max_n**0.5)
    for i in range(2, m + 1):
        if sieve[i]:
            sieve[i*i : max_n+1 : i] = [False] * (((max_n - i*i)//i) + 1)

    # 3) ì†Œìˆ˜ ê°œìˆ˜ ë°˜í™˜
    return sum(1 for num in perms if sieve[num])
```

---

## ğŸ’¡ í•™ìŠµ í¬ì¸íŠ¸

* **ìˆœì—´(permutations)** ìœ¼ë¡œ 1\~nìë¦¬ ìˆ«ì ì¡°í•© ìƒì„±
* **ì¤‘ë³µ ì œê±°**ë¥¼ ìœ„í•´ `set` í™œìš©
* **ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´** ì „ì²˜ë¦¬ë¡œ ì†Œìˆ˜ íŒë³„ì„ O(1) ì¡°íšŒë¡œ ìµœì í™”
* ì „ì²´ ì‹œê°„ ë³µì¡ë„:

    * ìˆœì—´ ìƒì„± â‰ˆ âˆ‘â‚–â‚Œâ‚â· P(7,k) â‰ˆ 13,699
    * ì²´ ì „ì²˜ë¦¬ O(max\_n log log max\_n)
    * ìˆœì—´ ìˆ˜ë§Œí¼ ì¡°íšŒ O(1)
* ë©”ëª¨ë¦¬ì™€ ì‹œê°„ íš¨ìœ¨ì„ ëª¨ë‘ ì¡ì€ í’€ì´ì…ë‹ˆë‹¤.
